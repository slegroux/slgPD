#N canvas 361 37 858 499 10;
#X obj 465 234 sqrt;
#X obj 17 341 *~;
#X obj 227 322 line~;
#X obj 227 349 *~;
#X obj 227 376 *~;
#X obj 465 261 sqrt;
#X msg 465 288 \$1 5;
#X obj 465 207 * 0.1;
#X text 550 178 get amplitude from argument 1;
#X text 524 206 normalize to 0.1;
#X text 516 233 take fourth root (square root twice);
#X text 544 250 because we'll raise line~ output to;
#X text 543 267 fourth power;
#X text 515 292 attack time 5 msec;
#X obj 17 314 osc~;
#X text 15 77 times global freq.;
#X text 261 66 plus detune;
#X text 266 350 raise to fourth power for;
#X text 267 368 natural-sounding decay shape;
#X text 187 433 add to global;
#X text 186 452 summing bus;
#X text 25 4 partial -- sinusoidal partial for additive synthesis;
#X text 631 12 arguments:;
#X text 605 37 1 amplitude \; 2 relative duration \; 3 relative frequency
\; 4 detune;
#X obj 138 94 inlet;
#X obj 2 428 outlet~;
#X obj 18 96 inlet;
#X text 139 75 relative frequency;
#X obj 17 279 +;
#X obj 263 85 inlet;
#X obj 17 252 * \$1;
#X obj 464 89 inlet;
#X obj -33 97 inlet~;
#X obj 2 390 +~;
#X connect 0 0 5 0;
#X connect 1 0 33 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 1 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 0 0;
#X connect 14 0 1 0;
#X connect 24 0 30 1;
#X connect 26 0 30 0;
#X connect 28 0 14 0;
#X connect 29 0 28 1;
#X connect 30 0 28 0;
#X connect 31 0 7 0;
#X connect 32 0 33 1;
#X connect 33 0 25 0;
